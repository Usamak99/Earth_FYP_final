{"ast":null,"code":"import _slicedToArray from\"C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Info from'../../components/profile/Info';import Posts from'../../components/profile/Posts';import{useSelector,useDispatch}from\"react-redux\";import LoadIcon from\"../../images/loading.gif\";import{getProfileUsers}from\"../../redux/actions/profileAction\";import Saved from'../../components/profile/Saved';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var _useSelector=useSelector(function(state){return state;}),profile=_useSelector.profile,auth=_useSelector.auth;var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),saveTab=_useState2[0],setSaveTab=_useState2[1];useEffect(function(){if(profile.ids.every(function(item){return item!==id;})){dispatch(getProfileUsers({id:id,auth:auth}));}},[id,auth,dispatch,profile.ids]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Info,{auth:auth,profile:profile,dispatch:dispatch,id:id}),auth.user._id===id&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile_tab\",children:[/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"\":\"active\",onClick:function onClick(){return setSaveTab(false);},children:\"posts\"}),/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"active\":\"\",onClick:function onClick(){return setSaveTab(true);},children:\"saved\"})]}),profile.loading?/*#__PURE__*/_jsx(\"img\",{className:\"d-block mx-auto my-4\",src:LoadIcon,alt:\"Loading\"}):/*#__PURE__*/_jsx(_Fragment,{children:saveTab?/*#__PURE__*/_jsx(Saved,{auth:auth,dispatch:dispatch}):/*#__PURE__*/_jsx(Posts,{auth:auth,profile:profile,dispatch:dispatch,id:id})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useParams","Info","Posts","useSelector","useDispatch","LoadIcon","getProfileUsers","Saved","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_useSelector","state","profile","auth","dispatch","_useParams","id","_useState","_useState2","_slicedToArray","saveTab","setSaveTab","ids","every","item","className","children","user","_id","onClick","loading","src","alt"],"sources":["C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/src/pages/profile/[id].js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Info from '../../components/profile/Info';\nimport Posts from '../../components/profile/Posts';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport LoadIcon  from \"../../images/loading.gif\";\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\nimport Saved from '../../components/profile/Saved';\n\nconst Profile = () => {\n  const { profile, auth } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const { id } = useParams();\n  const [saveTab, setSaveTab] = useState(false);\n\n  useEffect(() => {\n    if(profile.ids.every(item => item !== id )){\n      dispatch(getProfileUsers({ id, auth }));\n\n    }\n  }, [id, auth, dispatch, profile.ids]);\n\n    return (\n      <div className=\"profile\">\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n        {auth.user._id === id && (\n          <div className=\"profile_tab\">\n            <button\n              className={saveTab ? \"\" : \"active\"}\n              onClick={() => setSaveTab(false)}\n            >\n              posts\n            </button>\n            <button\n              className={saveTab ? \"active\" : \"\"}\n              onClick={() => setSaveTab(true)}\n            >\n              saved\n            </button>\n          </div>\n        )}\n\n        {profile.loading ? (\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\n        ) : (\n          <>\n            {\n              saveTab\n              ? <Saved auth={auth} dispatch={dispatch}  />\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n            }\n          </>\n        )}\n      </div>\n    );\n}\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}