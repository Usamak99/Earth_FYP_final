{"ast":null,"code":"import _slicedToArray from\"C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import CommentDisplay from'./comments/CommentDisplay';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comments=function Comments(_ref){var post=_ref.post;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),comments=_useState2[0],setComments=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),showComments=_useState4[0],setShowComments=_useState4[1];var _useState5=useState(2),_useState6=_slicedToArray(_useState5,2),next=_useState6[0],setNext=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),replyComments=_useState8[0],setReplyComments=_useState8[1];useEffect(function(){var newCm=post.comments.filter(function(cm){return!cm.reply;});setComments(newCm);setShowComments(newCm.slice(newCm.length-next));},[post.comments,next]);useEffect(function(){var newReply=post.comments.filter(function(cm){return cm.reply;});setReplyComments(newReply);},[post.comments]);return/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[showComments.map(function(comment,index){return/*#__PURE__*/_jsx(CommentDisplay,{comment:comment,post:post,replyCm:replyComments.filter(function(item){return item.reply===comment._id;})},index);}),comments.length-next>0?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setNext(next+10);},className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Load more...\"}):comments.length>2&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setNext(2);},className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Hide...\"})]});};export default Comments;","map":{"version":3,"names":["React","useState","useEffect","CommentDisplay","jsx","_jsx","jsxs","_jsxs","Comments","_ref","post","_useState","_useState2","_slicedToArray","comments","setComments","_useState3","_useState4","showComments","setShowComments","_useState5","_useState6","next","setNext","_useState7","_useState8","replyComments","setReplyComments","newCm","filter","cm","reply","slice","length","newReply","className","children","map","comment","index","replyCm","item","_id","onClick","style","cursor","color"],"sources":["C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/src/components/home/Comments.js"],"sourcesContent":["import React, { useState, useEffect} from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n  const [comments, setComments] = useState([]);\n  const [showComments, setShowComments] = useState([]);\n  const [next, setNext] = useState(2);\n  const [replyComments, setReplyComments] = useState([]);\n\n\n  useEffect(() => {\n    const newCm = post.comments.filter((cm) => !cm.reply);\n    setComments(newCm);\n    setShowComments(newCm.slice(newCm.length - next));\n  }, [post.comments, next]);\n\n  useEffect(() => {\n    const newReply = post.comments.filter((cm) => cm.reply);\n    setReplyComments(newReply);\n  }, [post.comments]);\n\n    return (\n      <div className=\"comments\">\n        {showComments.map((comment, index) => (\n          <CommentDisplay\n            key={index}\n            comment={comment}\n            post={post}\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\n          />\n        ))}\n        {comments.length - next > 0 ? (\n          <div\n            onClick={() => setNext(next + 10)}\n            className=\"p-2 border-top\"\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\n          >\n            Load more...\n          </div>\n        ) : (\n          comments.length > 2 && (\n            <div\n              onClick={() => setNext(2)}\n              className=\"p-2 border-top\"\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\n            >\n              Hide...\n            </div>\n          )\n        )}\n      </div>\n    );\n}\n\nexport default Comments\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}