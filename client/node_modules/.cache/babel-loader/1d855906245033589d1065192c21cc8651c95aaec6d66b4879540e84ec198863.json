{"ast":null,"code":"import _objectSpread from\"C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import Avatar from\"../../Avatar\";import{Link,useHistory}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import moment from\"moment\";import{BASE_URL}from'../../../utils/config';import{GLOBALTYPES}from\"../../../redux/actions/globalTypes\";import{deletePost,reportPost}from\"../../../redux/actions/postAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CardHeader=function CardHeader(_ref){var post=_ref.post;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket;var dispatch=useDispatch();var history=useHistory();var handleEditPost=function handleEditPost(){dispatch({type:GLOBALTYPES.STATUS,payload:_objectSpread(_objectSpread({},post),{},{onEdit:true})});};var handleDeletePost=function handleDeletePost(){if(window.confirm(\"Are you sure?\")){dispatch(deletePost({post:post,auth:auth,socket:socket}));return history.push(\"/\");}};var handleReportPost=function handleReportPost(){dispatch(reportPost({post:post,auth:auth}));};var handleCopyLink=function handleCopyLink(){navigator.clipboard.writeText(\"\".concat(BASE_URL,\"/post/\").concat(post._id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"card_header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer-shadow big-avatar-cover me-2\",children:/*#__PURE__*/_jsx(Avatar,{src:post.user.avatar,size:\"big-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card_name\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"m-0\",children:/*#__PURE__*/_jsx(Link,{className:\"text-dark\",to:\"/profile/\".concat(post.user._id),children:post.user.username})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:moment(post.createdAt).fromNow()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",id:\"moreLink\",\"data-bs-toggle\":\"dropdown\",children:\"more_horiz\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[auth.user._id===post.user._id&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleEditPost,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-info\",children:\" create\"}),\"Edit Post\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleDeletePost,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-red\",children:\" delete\"}),\"Delete Post\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleCopyLink,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-primary\",children:\"content_copy\"}),\"Copy Link\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleReportPost,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-yellow\",children:\"report_problem\"}),\"Report this post\"]})]})]})]});};export default CardHeader;","map":{"version":3,"names":["React","Avatar","Link","useHistory","useDispatch","useSelector","moment","BASE_URL","GLOBALTYPES","deletePost","reportPost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CardHeader","_ref","post","_useSelector","state","auth","socket","dispatch","history","handleEditPost","type","STATUS","payload","_objectSpread","onEdit","handleDeletePost","window","confirm","push","handleReportPost","handleCopyLink","navigator","clipboard","writeText","concat","_id","className","children","src","user","avatar","size","to","username","createdAt","fromNow","id","onClick"],"sources":["C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/src/components/home/post_card/CardHeader.js"],"sourcesContent":["import React from \"react\";\nimport Avatar from \"../../Avatar\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { BASE_URL } from '../../../utils/config'\n\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\nimport { deletePost, reportPost } from \"../../../redux/actions/postAction\";\n\nconst CardHeader = ({ post }) => {\n  const { auth, socket } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleEditPost = () => {\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\n  };\n\n  const handleDeletePost = () => {\n    if(window.confirm(\"Are you sure?\")){\n      dispatch(deletePost({ post, auth, socket }));\n      return history.push(\"/\");\n    }\n    \n  };\n\n\n  const handleReportPost = () => {\n    dispatch(reportPost({post, auth}));\n  };\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\n  };\n\n  return (\n    <div className=\"card_header\">\n      <div className=\"d-flex\">\n        <div className=\"outer-shadow big-avatar-cover me-2\">\n          <Avatar src={post.user.avatar} size=\"big-avatar\" />\n        </div>\n        <div className=\"card_name\">\n          <h6 className=\"m-0\">\n            <Link className=\"text-dark\" to={`/profile/${post.user._id}`}>\n              {post.user.username}\n            </Link>\n          </h6>\n          <small className=\"text-muted\">\n            {moment(post.createdAt).fromNow()}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"nav-item dropdown\">\n        <span\n          className=\"material-icons\"\n          id=\"moreLink\"\n          data-bs-toggle=\"dropdown\"\n        >\n          more_horiz\n        </span>\n\n        <div className=\"dropdown-menu\">\n          {auth.user._id === post.user._id && (\n            <>\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\n                <span className=\"material-icons text-info\"> create</span>Edit\n                Post\n              </div>\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\n                <span className=\"material-icons text-red\"> delete</span>Delete\n                Post\n              </div>\n            </>\n          )}\n\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\n            <span className=\"material-icons text-primary\">content_copy</span>\n            Copy Link\n          </div>\n          <div className=\"dropdown-item\" onClick={handleReportPost}>\n            <span className=\"material-icons text-yellow\">report_problem</span>\n            Report this post\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardHeader;\n"],"mappings":"wJAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CACnD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,QAAQ,KAAQ,uBAAuB,CAEhD,OAASC,WAAW,KAAQ,oCAAoC,CAChE,OAASC,UAAU,CAAEC,UAAU,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE3E,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAiB,IAAX,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACxB,IAAAC,YAAA,CAAyBf,WAAW,CAAC,SAACgB,KAAK,QAAK,CAAAA,KAAK,GAAC,CAA9CC,IAAI,CAAAF,YAAA,CAAJE,IAAI,CAAEC,MAAM,CAAAH,YAAA,CAANG,MAAM,CACpB,GAAM,CAAAC,QAAQ,CAAGpB,WAAW,EAAE,CAC9B,GAAM,CAAAqB,OAAO,CAAGtB,UAAU,EAAE,CAE5B,GAAM,CAAAuB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BF,QAAQ,CAAC,CAAEG,IAAI,CAAEnB,WAAW,CAACoB,MAAM,CAAEC,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAOX,IAAI,MAAEY,MAAM,CAAE,IAAI,EAAG,CAAC,CAAC,CAC5E,CAAC,CAED,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B,GAAGC,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CACjCV,QAAQ,CAACf,UAAU,CAAC,CAAEU,IAAI,CAAJA,IAAI,CAAEG,IAAI,CAAJA,IAAI,CAAEC,MAAM,CAANA,MAAO,CAAC,CAAC,CAAC,CAC5C,MAAO,CAAAE,OAAO,CAACU,IAAI,CAAC,GAAG,CAAC,CAC1B,CAEF,CAAC,CAGD,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BZ,QAAQ,CAACd,UAAU,CAAC,CAACS,IAAI,CAAJA,IAAI,CAAEG,IAAI,CAAJA,IAAI,CAAC,CAAC,CAAC,CACpC,CAAC,CAED,GAAM,CAAAe,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BC,SAAS,CAACC,SAAS,CAACC,SAAS,IAAAC,MAAA,CAAIlC,QAAQ,WAAAkC,MAAA,CAAStB,IAAI,CAACuB,GAAG,EAAG,CAC/D,CAAC,CAED,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9B,KAAA,QAAK6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBhC,IAAA,QAAK+B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjDhC,IAAA,CAACX,MAAM,EAAC4C,GAAG,CAAE1B,IAAI,CAAC2B,IAAI,CAACC,MAAO,CAACC,IAAI,CAAC,YAAY,EAAG,EAC/C,cACNlC,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhC,IAAA,OAAI+B,SAAS,CAAC,KAAK,CAAAC,QAAA,cACjBhC,IAAA,CAACV,IAAI,EAACyC,SAAS,CAAC,WAAW,CAACM,EAAE,aAAAR,MAAA,CAActB,IAAI,CAAC2B,IAAI,CAACJ,GAAG,CAAG,CAAAE,QAAA,CACzDzB,IAAI,CAAC2B,IAAI,CAACI,QAAQ,EACd,EACJ,cACLtC,IAAA,UAAO+B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAC1BtC,MAAM,CAACa,IAAI,CAACgC,SAAS,CAAC,CAACC,OAAO,EAAE,EAC3B,GACJ,GACF,cAENtC,KAAA,QAAK6B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChC,IAAA,SACE+B,SAAS,CAAC,gBAAgB,CAC1BU,EAAE,CAAC,UAAU,CACb,iBAAe,UAAU,CAAAT,QAAA,CAC1B,YAED,EAAO,cAEP9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC3BtB,IAAI,CAACwB,IAAI,CAACJ,GAAG,GAAKvB,IAAI,CAAC2B,IAAI,CAACJ,GAAG,eAC9B5B,KAAA,CAAAE,SAAA,EAAA4B,QAAA,eACE9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAACW,OAAO,CAAE5B,cAAe,CAAAkB,QAAA,eACrDhC,IAAA,SAAM+B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,SAAO,EAAO,YAE3D,GAAM,cACN9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAACW,OAAO,CAAEtB,gBAAiB,CAAAY,QAAA,eACvDhC,IAAA,SAAM+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,SAAO,EAAO,cAE1D,GAAM,GAET,cAED9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAACW,OAAO,CAAEjB,cAAe,CAAAO,QAAA,eACrDhC,IAAA,SAAM+B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,cAAY,EAAO,YAEnE,GAAM,cACN9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAACW,OAAO,CAAElB,gBAAiB,CAAAQ,QAAA,eACvDhC,IAAA,SAAM+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,EAAO,mBAEpE,GAAM,GACF,GACF,GACF,CAEV,CAAC,CAED,cAAe,CAAA3B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}