{"ast":null,"code":"import _slicedToArray from\"C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Avatar from'../Avatar';import EditProfile from'./EditProfile';import FollowBtn from'../FollowBtn';import Following from'./Following';import Followers from'./Followers';import ChangePassword from'./ChangePassword';import{GLOBALTYPES}from'../../redux/actions/globalTypes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Info=function Info(_ref){var id=_ref.id,auth=_ref.auth,profile=_ref.profile,dispatch=_ref.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),onEdit=_useState4[0],setOnEdit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changePassword=_useState6[0],setChangePassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showFollowers=_useState8[0],setShowFollowers=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showFollowing=_useState10[0],setShowFollowing=_useState10[1];useEffect(function(){if(id===auth.user._id){setUserData([auth.user]);}else{var newData=profile.users.filter(function(user){return user._id===id;});setUserData(newData);}},[id,auth,dispatch,profile.users]);useEffect(function(){if(showFollowers||showFollowing||onEdit){dispatch({type:GLOBALTYPES.MODAL,payload:true});}else{dispatch({type:GLOBALTYPES.MODAL,payload:false});}},[showFollowers,showFollowing,onEdit,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:userData.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"info_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer-shadow d-flex justify-content-center align-items-center\",style:{borderRadius:\"50%\",height:\"170px\",width:\"170px\"},children:/*#__PURE__*/_jsx(Avatar,{src:user.avatar,size:\"supper-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_content_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user.username}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setOnEdit(true);},children:\"Edit Profile\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setChangePassword(true);},children:\"change password\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"follow_btn\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-4\",onClick:function onClick(){return setShowFollowers(true);},children:[user.followers.length,\" Followers\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-4\",onClick:function onClick(){return setShowFollowing(true);},children:[user.following.length,\" Following\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{children:[user.fullname,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"color-violet\",children:user.mobile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:user.address}),/*#__PURE__*/_jsx(\"h6\",{children:user.email}),/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:\"none\"},href:user.website,target:\"_blank\",rel:\"noreferrer\",children:user.website}),/*#__PURE__*/_jsx(\"p\",{children:user.story})]}),onEdit&&/*#__PURE__*/_jsx(EditProfile,{setOnEdit:setOnEdit}),changePassword&&/*#__PURE__*/_jsx(ChangePassword,{setChangePassword:setChangePassword}),showFollowers&&/*#__PURE__*/_jsx(Followers,{users:user.followers,setShowFollowers:setShowFollowers}),showFollowing&&/*#__PURE__*/_jsx(Following,{users:user.following,setShowFollowing:setShowFollowing})]},user._id);})});};export default Info;","map":{"version":3,"names":["React","useState","useEffect","Avatar","EditProfile","FollowBtn","Following","Followers","ChangePassword","GLOBALTYPES","jsx","_jsx","jsxs","_jsxs","Info","_ref","id","auth","profile","dispatch","_useState","_useState2","_slicedToArray","userData","setUserData","_useState3","_useState4","onEdit","setOnEdit","_useState5","_useState6","changePassword","setChangePassword","_useState7","_useState8","showFollowers","setShowFollowers","_useState9","_useState10","showFollowing","setShowFollowing","user","_id","newData","users","filter","type","MODAL","payload","className","children","map","style","borderRadius","height","width","src","avatar","size","username","onClick","followers","length","following","fullname","mobile","address","email","textDecoration","href","website","target","rel","story"],"sources":["C:/Users/a/Documents/New folder (3)/mern-social-media-master/client/src/components/profile/Info.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\nimport Avatar from '../Avatar';\nimport EditProfile from './EditProfile';\nimport FollowBtn from '../FollowBtn';\nimport Following from './Following';\nimport Followers from './Followers';\nimport ChangePassword from './ChangePassword';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([]);\n    const [onEdit, setOnEdit] = useState(false);\n    const [changePassword, setChangePassword] = useState(false);\n\n    const [showFollowers, setShowFollowers] = useState(false);\n    const [showFollowing, setShowFollowing] = useState(false);\n\n    useEffect(() => {\n      if (id === auth.user._id) {\n          setUserData([auth.user]);\n      }else{\n        const newData = profile.users.filter(user => user._id === id);\n        setUserData(newData);\n      }\n    }, [id, auth, dispatch, profile.users]);\n\n    useEffect(() => {\n      if (showFollowers || showFollowing || onEdit) {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\n      } else {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\n      }\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\n\n    return (\n      <div className=\"info\">\n        {userData.map((user) => (\n          <div key={user._id} className=\"info_container\">\n            <div\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\n            >\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\n            </div>\n\n            <div className=\"info_content\">\n              <div className=\"info_content_title\">\n                <h2>{user.username}</h2>\n                {user._id === auth.user._id ? (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setOnEdit(true)}\n                  >\n                    Edit Profile\n                  </button>\n                ) : (\n                  <FollowBtn user={user} />\n                )}\n                {user._id === auth.user._id ? (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setChangePassword(true)}\n                  >\n                    change password\n                  </button>\n                ) : (\n                  <FollowBtn user={user} />\n                )}\n              </div>\n\n              <div className=\"follow_btn\">\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                  {user.followers.length} Followers\n                </span>\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                  {user.following.length} Following\n                </span>\n              </div>\n\n              <h6>\n                {user.fullname}{\" \"}\n                <span className=\"color-violet\">{user.mobile}</span>\n              </h6>\n              <p className=\"m-0\">{user.address}</p>\n              <h6>{user.email}</h6>\n              <a\n                style={{ textDecoration: \"none\" }}\n                href={user.website}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {user.website}\n              </a>\n              <p>{user.story}</p>\n            </div>\n\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\n\n            {showFollowers && (\n              <Followers\n                users={user.followers}\n                setShowFollowers={setShowFollowers}\n              />\n            )}\n            {showFollowing && (\n              <Following\n                users={user.following}\n                setShowFollowing={setShowFollowing}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n}\n\nexport default Info\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}